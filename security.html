---
layout: default
title: MQWeb &bull; Administrating WebSphere MQ with your favorite browser
security: true
---
<div id="content">
  <h1>Security</h1>
  <p>
   You can start MQWeb with user mqm but it is recommended to run your 
   applications with a dedicated user. This page shows what permissions are
   needed to run the MQWeb daemon with a dedicated user. Ofcourse it depends 
   on how you want to use MQWeb.
  </p>
  <p>
   In the examples below we assume that the user has the name mqweb and is
   part of the mqweb group.
  </p>
  <p>
   This page is only for Windows / Unix platforms.
  </p>
  <h2>Channel</h2>
  <p>
   When MQWeb connects in client mode, you have to secure the channel.
   Create a channel and use the username in the MCAUSER attribute.
   <pre>
    <code>
     DEFINE CHANNEL(CL.MQWEB) CHLTYPE(SVRCONN) MCAUSER('mqweb')
    </code>
   </pre>
  </p>
  <h2>Queuemanager Security</h2>
  <p>
   The user needs permissions to connect to the queuemanager. MQWeb also
   needs authorisation to inquire some information from the queuemanager. 
   When MQWeb is used to display attributes of the queuemanager you also need 
   to add the DISPLAY authorisation. Use the following SET AUTHREC statement:
   <pre>
    <code>
     SET AUTHREC GROUP('mqweb') OBJTYPE(QMGR) AUTHADD(CONNECT,INQ,DSP)
    </code>
   </pre>
  </p>
  <h2>Command Server Queues Security</h2>
  <p>
   MQWeb puts PCF messages on the command queue. The name of the command queue
   is inquired from the queuemanager. By default the name is 
   SYSTEM.ADMIN.COMMAND.QUEUE. 
   <pre>
    <code>
     SET AUTHREC PROFILE(SYSTEM.ADMIN.COMMAND.QUEUE) GROUP('mqweb') OBJTYPE(QUEUE) AUTHADD(PUT)
    </code>
   </pre>
  </p>
  <h2>Reply Queue</h2>
  <p>
   The command server will put the reply of the PCF message on a queue.
   Which queue must be used can be configured in the mqweb properties file.
   When no name is configured, MQWeb will use the SYSTEM.DEFAULT.MODEL.QUEUE
   to create a temporary queue. Ofcourse this will result in extra security
   rules.
  </p>
  <h2>Temporary Queues</h2>
  <p>
   When temporary queues are used for returning the reply messages, apply the
   following SET AUTHREC statements:
   <pre>
    <code>
     SET AUTHREC PROFILE(SYSTEM.DEFAULT.MODEL.QUEUE) GROUP('mqweb') OBJTYPE(QUEUE) AUTHADD(PUT)
    </code>
   </pre>
  </p>
  <h2>Queues</h2>
  <p>
   MQWeb needs permission to display queue attributes. Only give permissions
   to queues that are allowed to be viewed with MQWeb. Queues that are not
   allowed to view will return a 2035 reason code and will be skipped. The
   BROWSE authority is also required when MQWeb is used to browse queues. 
   <pre>
    <code>
     SET AUTHREC PROFILE(**) GROUP('mqweb') OBJTYPE(QUEUE) AUTHADD(DSP)
    </code>
   </pre>
   The following statement shows how to allow the event action on 
   SYSTEM.ADMIN.QMGR.EVENT . It adds BROWSE and INQ authorisations. INQ
   is needed because the event action inquires the current depth of the queue.
   <pre>
    <code>
     SET AUTHREC PROFILE(SYSTEM.ADMIN.QMGR.EVENT) GROUP('mqweb') OBJTYPE(QUEUE) AUTHADD(BROWSE, INQ)
    </code>
   </pre>
  </p>
  <h2>Channels</h2>
  <p>
  </p>
</div>
